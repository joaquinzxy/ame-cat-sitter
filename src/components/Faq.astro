---
const faqData = [
  {
    question: "¿Cómo funciona el servicio?",
    answer: "Nuestro servicio incluye visitas personalizadas para cuidar de tus gatos, asegurándonos de que estén felices y saludables.",
  },
  {
    question: "¿Qué incluye cada plan?",
    answer: "Cada plan incluye diferentes servicios adaptados a las necesidades de tu gato, como alimentación, limpieza y juegos.",
  },
  {
    question: "¿Cómo puedo reservar?",
    answer: "Podés reservar contactándonos a través de nuestro formulario en línea o por teléfono.",
  },
  {
    question: "¿Qué pasa si mi gato tiene necesidades especiales?",
    answer: "Estamos preparados para atender a gatos con necesidades especiales, incluyendo medicación y cuidados específicos.",
  },
  {
    question: "¿Qué sucede si mi gato se enferma durante el servicio?",
    answer: "En caso de enfermedad, nos comunicaremos inmediatamente contigo y llevaremos a tu gato al veterinario si es necesario.",
  },
  {
    question: "¿Cómo funciona el servicio?",
    answer: "Nuestro servicio incluye visitas personalizadas para cuidar de tus gatos, asegurándonos de que estén felices y saludables.",
  },
  {
    question: "¿Qué incluye cada plan?",
    answer: "Cada plan incluye diferentes servicios adaptados a las necesidades de tu gato, como alimentación, limpieza y juegos.",
  },
  {
    question: "¿Cómo puedo reservar?",
    answer: "Podés reservar contactándonos a través de nuestro formulario en línea o por teléfono.",
  },
  {
    question: "¿Qué pasa si mi gato tiene necesidades especiales?",
    answer: "Estamos preparados para atender a gatos con necesidades especiales, incluyendo medicación y cuidados específicos.",
  },
  {
    question: "¿Qué sucede si mi gato se enferma durante el servicio?",
    answer: "En caso de enfermedad, nos comunicaremos inmediatamente contigo y llevaremos a tu gato al veterinario si es necesario.",
  },
];
---

<div id="faq" class="bg-gray-100 py-12 px-6">
  <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div>
      <img
        src="https://framerusercontent.com/images/NrComKbYzPQXlLvG45IDEsGsZWw.jpeg"
        alt="FAQ Image"
        class="faq-img rounded-lg shadow-md w-full"
      />
    </div>
    <div>
      <h2 class="text-4xl font-bold text-gray-800 mb-4">¿Tenés dudas?</h2>
      <p class="text-gray-600 mb-6">
        Respondemos las preguntas más frecuentes para que tengas toda la información que necesitás.
      </p>
      <div class="space-y-4">
        <!-- FAQ Item 1 -->
        {
          faqData.map((item, index) => (
            <div class="border-b border-gray-300" id={`btn-faq-${index + 1}`}>
              <button
                class="w-full text-left text-lg font-semibold text-gray-800 py-2 focus:outline-none flex justify-between items-center"
              >
                {item.question}
                <span id={`icon-${index + 1}`} class="transform transition-transform">+</span>
              </button>
              <div id={`faq-${index + 1}`} class="faq-content">
                <p class="text-gray-600 py-2">
                  {item.answer}
                </p>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</div>

<style>
  .faq-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-in-out;
  }

  .faq-content.open {
    max-height: 500px; /* Adjust as needed for content size */
  }

  .faq-img {
    max-width: 100%;
    height: 80vh;
    border-radius: 1rem;
    object-fit: cover;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }
</style>

<script>
  function toggleFaq(id: string) {
    const content = document.getElementById(`faq-${id}`);
    const icon = document.getElementById(`icon-${id}`);

    const faqButtons = document.querySelectorAll('[id^="btn-faq-"]');
    faqButtons.forEach(button => {
      if (button.id !== `btn-faq-${id}`) {
        const otherContent = document.getElementById(`faq-${button.id.split('-')[2]}`);
        const otherIcon = document.getElementById(`icon-${button.id.split('-')[2]}`);
        if (otherContent && otherIcon) {
          otherContent.classList.remove('open');
          otherIcon.textContent = '+';
        }
      }
    });

    if (content && icon && content.classList.contains('open')) {
      content.classList.remove('open');
      icon.textContent = '+';
    } else {
      if (content && icon) {
        content.classList.add('open');
        icon.textContent = '-';
      }
    }
  }

  const toggleButtons = document.querySelectorAll('[id^="btn-faq-"]');
  toggleButtons.forEach(button => {
    button.addEventListener('click', () => {
      const id = button.id.split('-')[2]; // Extract the ID from the button
      toggleFaq(id); // Call the toggle function with the extracted ID
    });
  });
</script>